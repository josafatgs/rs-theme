{% comment %}
  Footer Menu Block Component
  
  Displays a configurable menu block with dynamic menu selection
  Handles empty menus gracefully by hiding the entire section
  
  Parameters:
  - block: The block object containing settings
{% endcomment %}

{% if block.settings.menu != blank %}
  <div class="footer-menu-block">
    <h4 class="footer-menu-title" id="block-{{ block.id }}-heading">
      {{ block.settings.menu_title | default: 'Enlaces' }}
    </h4>
    
    <nav class="footer-menu-nav" role="navigation" aria-labelledby="block-{{ block.id }}-heading">
      <ul class="footer-menu-list">
        {% for link in block.settings.menu.links %}
          <li class="footer-menu-item">
            <a href="{{ link.url }}" 
               class="footer-menu-link"
               {% if link.current %}aria-current="page"{% endif %}
               title="{{ link.title }}">
              {{ link.title }}
            </a>
          </li>
        {% endfor %}
      </ul>
    </nav>
  </div>
{% endif %}

{% stylesheet %}
  .footer-menu-block {
    margin-bottom: 2rem;
  }

  .footer-menu-title {
    color: var(--primary-gold, #cd9d08);
    font-size: 1.125rem;
    font-weight: 600;
    margin: 0 0 1rem 0;
    line-height: 1.4;
  }

  .footer-menu-nav {
    margin: 0;
  }

  .footer-menu-list {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .footer-menu-item {
    margin-bottom: 0.5rem;
  }

  .footer-menu-item:last-child {
    margin-bottom: 0;
  }

  .footer-menu-link {
    color: var(--primary-white, #ffffff);
    text-decoration: none;
    font-size: 0.9rem;
    line-height: 1.5;
    transition: color 0.3s ease, transform 0.2s ease;
    display: inline-block;
    opacity: 0.9;
  }

  .footer-menu-link:hover,
  .footer-menu-link:focus {
    color: var(--primary-gold, #cd9d08);
    transform: translateX(2px);
    opacity: 1;
  }

  .footer-menu-link:focus {
    outline: 2px solid var(--primary-gold, #cd9d08);
    outline-offset: 2px;
    border-radius: 2px;
  }

  .footer-menu-link[aria-current="page"] {
    color: var(--primary-gold, #cd9d08);
    font-weight: 500;
  }

  /* Touch device optimization */
  @media (hover: none) {
    .footer-menu-link {
      min-height: 44px;
      display: flex;
      align-items: center;
      padding: 0.25rem 0;
    }
    
    .footer-menu-link:hover {
      transform: none;
    }
    
    .footer-menu-link:active {
      background-color: rgba(205, 157, 8, 0.1);
      border-radius: 4px;
      padding: 0.25rem 0.5rem;
      margin: -0.25rem -0.5rem;
    }
  }

  /* Responsive adjustments */
  @media (max-width: 768px) {
    .footer-menu-block {
      text-align: center;
      margin-bottom: 2.5rem;
    }
    
    .footer-menu-title {
      font-size: 1.25rem;
    }
    
    .footer-menu-link {
      font-size: 0.95rem;
    }
  }

  /* Reduced motion preferences */
  @media (prefers-reduced-motion: reduce) {
    .footer-menu-link {
      transition: color 0.1s ease;
    }
    
    .footer-menu-link:hover {
      transform: none;
    }
  }
{% endstylesheet %}